{"remainingRequest":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/goinfre/pntsunts/Desktop/matcha/client/src/components/Auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/goinfre/pntsunts/Desktop/matcha/client/src/components/Auth/Login.vue","mtime":1593156938369},{"path":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/goinfre/pntsunts/Desktop/matcha/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2dpblNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvTG9naW5TZXJ2aWNlJwppbXBvcnQgVGFibGUgZnJvbSAnLi4vLi4vc2VydmljZXMvdGFibGVzJwppbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL3JvdXRlcicKaW1wb3J0IFZ1ZVNlc3Npb24gZnJvbSAndnVlLXNlc3Npb24nCmltcG9ydCBWdWUgZnJvbSAndnVlJwpWdWUudXNlKFZ1ZVNlc3Npb24pCnZhciBvcHRpb25zID0gewogIHBlcnNpc3Q6IHRydWUKfQpWdWUudXNlKFZ1ZVNlc3Npb24sIG9wdGlvbnMpCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRlZmF1bHQgKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IFtdLAogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3M6ICcnCiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGUgKCkgewogICAgaWYgKHRoaXMuJHNlc3Npb24uZXhpc3RzKCkpIHsKICAgICAgcm91dGVyLnB1c2goeyBuYW1lOiAnRGFzaGJvYXJkJyB9KQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9naW4gKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXJzID0gKGF3YWl0IExvZ2luU2VydmljZS51c2VyTG9naW4odGhpcy51c2VybmFtZSwgdGhpcy5wYXNzKSlbMF0KICAgICAgICBpZiAodXNlcnNbVGFibGUuVXNlci51c2VyTmFtZV0pIHsKICAgICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKQogICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2VtYWlsJywgdXNlcnNbVGFibGUuVXNlci51c2VyTmFtZV0pCiAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnaWQnLCB1c2Vyc1tUYWJsZS5Vc2VyLnVzZXJJZF0pCiAgICAgICAgICAvLyAgVnVlLmh0dHAuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudXNlcnMuZW1haWwKICAgICAgICAgIHJvdXRlci5wdXNoKHsgbmFtZTogJ0Rhc2hib2FyZCcgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoJ0luY29ycmVjdCBDcmVkZW50aWFscy4gUGxlYXNlIHRyeSBBZ2Fpbi4nKQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBhbGVydChlcnJvci5tZXNzYWdlKQogICAgICB9CiAgICB9LAogICAgcmVnaXN0ZXIgKCkgewogICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICdob21lJyB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/Auth","sourcesContent":["<template>\n<v-parallax\n  src=\"../../assets/home.jpg\"\n  height= \"900\"\n>\n<v-row\n  align=\"center\"\n  justify=\"center\"\n>\n  <v-flex xs2 sm8 md4 >\n    <h1 class=\"display-3 mb-4\">Welcome to Matcha</h1>\n    <h4 class=\"subheading font-weight-thin display-1\">Meet Your Match!</h4>\n     <v-btn v-on:click=\"register\" rounded color=\"deep-purple lighten-3\" dark lg >Want to register?</v-btn>\n  </v-flex>\n  <div\n  v-for=\"(user, index) in users\"\n  v-bind:index=\"index\"\n  v-bind:item=\"user\"\n  v-bind:key=\"user._id\"\n  >\n  <p>{{ user.email }} Khanyisa Mbukutshe</p>\n  </div>\n  <v-flex xs2 sm8 md4 >\n      <v-form>\n          <v-card>\n              <v-card-text>\n                  <v-text-field\n                      icon=\"person\"\n                      name=\"username\"\n                      label=\"Username\"\n                      type=\"text\"\n                      v-model=\"username\"\n                  >\n                  </v-text-field>\n                  <v-text-field\n                      icon=\"lock\"\n                      name=\"user_pwd\"\n                      label=\"Password\"\n                      type=\"password\"\n                      v-model=\"pass\"\n                  >\n                  </v-text-field>\n              </v-card-text>\n              <v-card-actions>\n                  <v-btn rounded color=\"deep-purple lighten-3 \" dark v-on:click=\"login\">Log In\n                  </v-btn>\n              </v-card-actions>\n              <v-card-actions>\n                  <a href =\"#\">Forget Password?</a>\n              </v-card-actions>\n          </v-card>\n      </v-form>\n  </v-flex>\n</v-row>\n</v-parallax>\n\n</template>\n<script>\nimport LoginService from '../../services/LoginService'\nimport Table from '../../services/tables'\nimport router from '../../router'\nimport VueSession from 'vue-session'\nimport Vue from 'vue'\nVue.use(VueSession)\nvar options = {\n  persist: true\n}\nVue.use(VueSession, options)\nexport default {\n  name: 'Login',\n  default () {\n    return {\n      users: [],\n      username: '',\n      pass: ''\n    }\n  },\n  beforeCreate () {\n    if (this.$session.exists()) {\n      router.push({ name: 'Dashboard' })\n    }\n  },\n  methods: {\n    async login () {\n      try {\n        const users = (await LoginService.userLogin(this.username, this.pass))[0]\n        if (users[Table.User.userName]) {\n          this.$session.start()\n          this.$session.set('email', users[Table.User.userName])\n          this.$session.set('id', users[Table.User.userId])\n          //  Vue.http.headers.common['Authorization'] = 'Bearer ' + this.users.email\n          router.push({ name: 'Dashboard' })\n        } else {\n          alert('Incorrect Credentials. Please try Again.')\n        }\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    register () {\n      router.push({ name: 'home' })\n    }\n  }\n}\n</script>\n"]}]}